<!DOCTYPE html>
<html lang="en-us">
  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <!-- Enable responsiveness on mobile devices-->
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1"
  />

  <title>
     Downstream_intro &middot; Otic reprogramming 
  </title>

  
  <link rel="canonical" href="https://alexthiery.github.io/otic-reprogramming/https://alexthiery.github.io/otic-reprogramming/downstream/downstream_intro/" />
  

  <!-- CSS -->
  <link rel="stylesheet" href="https://alexthiery.github.io/otic-reprogramming/public/css/poole.css" />
  <link rel="stylesheet" href="https://alexthiery.github.io/otic-reprogramming/public/css/syntax.css" />
  <link rel="stylesheet" href="https://alexthiery.github.io/otic-reprogramming/public/css/custom.css" />
  <link rel="stylesheet" href="https://alexthiery.github.io/otic-reprogramming/public/css/lanyon.css" />
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400"
  />

  <!-- stylesheet for icons -->
  <link
    rel="stylesheet"
    href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css"
  />

  <link rel="shortcut icon" href="https://alexthiery.github.io/otic-reprogramming/public/favicon.ico" />

  <i class="fas fa-egg"></i>

  <!-- RSS -->
  <link
    rel="alternate"
    type="application/rss+xml"
    title="RSS"
    href="https://alexthiery.github.io/otic-reprogramming/https://alexthiery.github.io/otic-reprogramming/atom.xml"
  />
</head>


  <body>
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox" />

<!-- Toggleable sidebar -->
<!-- Sidebar icon elements -->

<div class="sidebar" id="sidebar">
  <div class="sidebar-logo">
    <img src="https://alexthiery.github.io/otic-reprogramming/assets/sidebar_icon.png" />
  </div>

  <div id="contact-list" style="text-align: center">
    
    <a href="https://www.kcl.ac.uk/people/andrea-streit">
      <span class="fa-stack fa-lg">
        <i class="fa fa-square-o fa-stack-2x"></i>
        <i class="fa fa-users fa-stack-1x"></i>
      </span>
    </a>
     
    <a href="http://orcid.org/0000-0002-5814-4977">
      <span class="fa-stack fa-lg">
        <i class="fa fa-square-o fa-stack-2x"></i>
        <i class="fa fa-align-center fa-stack-1x"></i>
      </span>
    </a>
     
    <a href="mailto:alexthiery1@gmail.com">
      <span class="fa-stack fa-lg">
        <i class="fa fa-square-o fa-stack-2x"></i>
        <i class="fa fa-envelope fa-stack-1x"></i>
      </span>
    </a>
     
    <a href="https://github.com/alexthiery/">
      <span class="fa-stack fa-lg">
        <i class="fa fa-square-o fa-stack-2x"></i>
        <i class="fa fa-github-alt fa-stack-1x"></i>
      </span>
    </a>
    
  </div>

  <div class="sidebar-item">
    <p>Documentation for the Buzzi et al. 2021 <a href="https://github.com/alexthiery/otic-reprogramming" target="_blank">Github repository</a>.</p>
  </div>

  <!-- sidebar tabs -->

  <a class="sidebar-nav-item" href="https://alexthiery.github.io/otic-reprogramming/">Home</a>

  <!-- add tabs automatically from downstream and general collections-->

     
  <a class="sidebar-nav-item" href="https://alexthiery.github.io/otic-reprogramming/general/quick_start/"
    >Quick start</a
  >
      
  <a class="sidebar-nav-item" href="https://alexthiery.github.io/otic-reprogramming/general/smartseq2_alignment/"
    >SmartSeq2 alignment</a
  >
      
  <li class="sidebar-nav-item">
    
    <a href="https://alexthiery.github.io/otic-reprogramming/downstream/downstream_intro/">Downstream analysis</a>
    <ul>
      
      <li class="sidebar-nav-sub-item">
        <a href="https://alexthiery.github.io/otic-reprogramming/downstream/downstream_intro/">Intro</a>
      </li>
      
      <li class="sidebar-nav-sub-item">
        <a href="https://alexthiery.github.io/otic-reprogramming/downstream/lmx1a_downstream/">Lmx1a DEA</a>
      </li>
      
      <li class="sidebar-nav-sub-item">
        <a href="https://alexthiery.github.io/otic-reprogramming/downstream/smartseq2_downstream/">SmartSeq2 scRNAseq</a>
      </li>
      
      <li class="sidebar-nav-sub-item">
        <a href="https://alexthiery.github.io/otic-reprogramming/downstream/sox8_downstream/">Sox8 DEA</a>
      </li>
      
      <li class="sidebar-nav-sub-item">
        <a href="https://alexthiery.github.io/otic-reprogramming/downstream/enhancer_downstream/">Enhancer discovery</a>
      </li>
      
    </ul>
  </li>
  

  <a class="sidebar-nav-item" href="https://github.com/alexthiery/otic-reprogramming"
    >GitHub repository</a
  >
  <a class="sidebar-nav-item" href="https://github.com/alexthiery/otic-reprogramming/archive/master.zip"
    >Download</a
  >

  <div class="sidebar-item">
    <p>&copy; 2021. All rights reserved.</p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="https://alexthiery.github.io/otic-reprogramming/" title="Home">Otic reprogramming</a>
            <small>Buzzi et al. 2021</small>
          </h3>
        </div>
      </div>

      <div class="container content"><div class="page">
  <!-- hide auto title generation -->
  <!-- <h1 class="page-title">Downstream_intro</h1> -->
  <h2 id="downstream-analysis">Downstream analysis</h2>
</br>
<p>In order to maintain reproducibility when carrying out the downstream analysis, we have developed a custom Nextflow pipeline which integrates the alignment outputs into a single Nextflow workflow.</p>
<p>This workflow makes use of a single custom Docker container which contains all required packages which can be found <a href="https://hub.docker.com/repository/docker/alexthiery/otic-reprogramming-r_analysis">here</a>.</p>
<p>If you would like to re-run the entire downstream analysis, you will need to first align the data by following the steps in the <a href="https://alexthiery.github.io/otic-reprogramming/general/quick_start"><strong><em>Quick start</em></strong></a> guide.</p>
<p>After aligning the data, you will need to create a samplesheet csv containing the paths to all of the alignment output folders. You can find an example of this <a href="https://github.com/alexthiery/otic-reprogramming/blob/master/NF-downstream_analysis/crick_samplesheet.csv">here</a>.</p>
<p>The entire downstream analysis can then be carried out by executing using the following shell script.</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">NXF_VER</span><span class="o">=</span>20.07.1

nextflow run ./NF-downstream_analysis/main.nf <span class="se">\</span>
  <span class="nt">-c</span> &lt;PATH_TO_CONFIG&gt; <span class="se">\</span>
  <span class="nt">--input</span> &lt;PATH_TO_DOWNSTREAM_ANALYSIS_SAMPLESHEET.CSV&gt; <span class="se">\</span>
  <span class="nt">--outdir</span> output/NF-downstream_analysis <span class="se">\</span>
  <span class="nt">-resume</span>
</code></pre></div></div>
<hr />
</br>
<h2 id="interactive-downstream-analysis">Interactive downstream analysis</h2>
</br>
<p>If do not want to re-run the alignment, but would like to run the downstream analysis from the count files, you can run RStudio from within the Docker container. This will ensure that you have all of the same packages and dependencies required to carry out the analysis.</p>
<p>If you would like to interactively explore the data, follow these steps:</p>
<ol>
<li>download the relevant alignment output</li>
<li><a href="https://github.com/alexthiery/otic-reprogramming/archive/master.zip">download</a> our GitHub repository to your local computer</li>
<li>start a terminal session and pull the Docker image from Dockerhub - <code>docker pull alexthiery/otic-reprogramming-r_analysis:latest</code></li>
<li>within terminal launch a Docker container interactively - <code>docker run --rm -e PASSWORD=password -p 8787:8787 -v &lt;PATH_TO_LOCAL_REPOSITORY&gt;:/home/rstudio alexthiery/otic-reprogramming-r_analysis:latest</code></li>
<li>go to <code>localhost:8787</code> in the browser to open RStudio</li>
<li>enter the username <code>rstudio</code> and the password <code>password</code></li>
<li>change the paths at the beginning of the script you wish to analyse in order to read in the data</li>
</ol>
<hr />
</br>
<h2 id="further-documentation">Further documentation</h2>
</br>
<ul>
<li><a href="https://alexthiery.github.io/otic-reprogramming/downstream/lmx1a_downstream">Lmx1a differential expression analysis</a></li>
<li><a href="https://alexthiery.github.io/otic-reprogramming/downstream/smartseq2_downstream">SmartSeq2 scRNAseq analysis</a></li>
<li><a href="https://alexthiery.github.io/otic-reprogramming/downstream/sox8_downstream">Sox8 differential expression analysis</a></li>
<li><a href="https://alexthiery.github.io/otic-reprogramming/downstream/enhancer_discovery">Enhancer discovery pipeline</a></li>
</ul>

</div>
</div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src="https://alexthiery.github.io/otic-reprogramming/public/js/script.js"></script>
  </body>
</html>
